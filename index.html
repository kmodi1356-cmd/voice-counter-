<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice-Activated Counter</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background:#222;}
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            /* backdrop-filter: blur(10px); */
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff7e5f, #feb47b);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 40px;
            color: #a0a0c0;
            font-weight: 300;
        }
        
        .counter-display {
            font-size: 10rem;
            font-weight: 800;
            margin: 40px 0;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1;
            transition: all 0.3s ease;
        }
        
        .counter-display.active {
            transform: scale(1.05);
        }
        
        .voice-status {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 50px;
            padding: 15px 30px;
            margin: 30px auto;
            max-width: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .mic-icon {
            font-size: 1.8rem;
            color: #ff7e5f;
        }
        
        .status-text {
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        .status-listening {
            color: #4cd964;
            animation: pulse 1.5s infinite;
        }
        
        .status-idle {
            color: #a0a0c0;
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin-top: 40px;
        }
        
        .btn {
            padding: 18px 35px;
            font-size: 1.2rem;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: all 0.3s ease;
            min-width: 200px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(0);
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-start {
            background: linear-gradient(90deg, #00b09b, #96c93d);
            color: white;
        }
        
        .btn-stop {
            background: linear-gradient(90deg, #ff416c, #ff4b2b);
            color: white;
        }
        
        .btn-restart {
            background: linear-gradient(90deg, #8a2387, #f27121);
            color: white;
        }
        
        .instructions {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-top: 40px;
            text-align: left;
            border-left: 4px solid #6a11cb;
        }
        
        .instructions h3 {
            margin-bottom: 15px;
            color: #feb47b;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            line-height: 1.6;
            color: #d0d0e0;
        }
        
        .footer {
            margin-top: 30px;
            color: #888;
            font-size: 0.9rem;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .counter-display {
                font-size: 7rem;
            }
            
            .btn {
                min-width: 160px;
                padding: 16px 25px;
            }
        }
        
        @media (max-width: 480px) {
            .button-container {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .counter-display {
                font-size: 5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Voice-Activated Counter</h1><input
  type="text"
  id="targetWord"
  placeholder="Yahan likho kya bolna hai (jaise: go)"
  style="padding:10px;width:100%;margin:15px 0;font-size:16px;text-align:center;"
>
        <p class="subtitle">Speak to increase the count - Professional voice recognition tool</p>
        
        <div class="counter-display" id="counter">0</div>
        
        <div class="voice-status">
            <div class="mic-icon">
                <i class="fas fa-microphone"></i>
            </div>
            <div class="status-text" id="status">
                Click "Start" to begin voice counting
            </div>
        </div>
        
        <div class="button-container">
            <button class="btn btn-start" id="startBtn">
                <i class="fas fa-play-circle"></i> Start Counting
            </button>
            <button class="btn btn-stop" id="stopBtn" disabled>
                <i class="fas fa-stop-circle"></i> Stop Counting
            </button>
            <button class="btn btn-restart" id="restartBtn">
                <i class="fas fa-redo-alt"></i> Reset Counter
            </button>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> How to use:</h3>
            <ul>
                <li>Click the <strong>Start Counting</strong> button to begin voice recognition</li>
                <li>Speak clearly - each detected word/sound will increase the counter by 1</li>
                <li>Click <strong>Stop Counting</strong> to pause voice recognition</li>
                <li>Use <strong>Reset Counter</strong> to set the count back to zero</li>
                <li>Works best in a quiet environment with a clear microphone</li>
            </ul>
        </div>
        
        <div class="footer">
            <p>Voice-Activated Counter | Compatible with modern browsers</p>
        </div>
    </div>

    <script>
        // DOM Elements
        const counterDisplay = document.getElementById('counter');
        const statusText = document.getElementById('status');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const restartBtn = document.getElementById('restartBtn');
        
        // Variables
        let count = 0;
        let isListening = true;
        let recognition = null;
        
        // Check for browser support
        window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        
        // Initialize speech recognition
        function initSpeechRecognition() {
            if (!window.SpeechRecognition) {
                statusText.innerHTML = '<span class="status-idle">Speech recognition not supported in this browser. Try Chrome or Edge.</span>';
                startBtn.disabled = true;
                return;
            }
            
            recognition = new SpeechRecognition();
            recognition.continuous = true;
            recognition.interimResults = false;
            recognition.lang = 'en-US';
            
            recognition.onstart = function() {
                isListening = true;
                statusText.innerHTML = '<span class="status-listening">Listening... Speak to count</span>';
                counterDisplay.classList.add('active');
                startBtn.disabled = true;
                stopBtn.disabled = false;
            };
            
recognition.interimResults = false;

let lastTime = 0;

recognition.onresult = function (event) {
  const result = event.results[event.resultIndex];
  if (!result.isFinal) return;

  const spokenText = result[0].transcript.trim().toLowerCase();
  const target = document
    .getElementById("targetWord")
    .value
    .trim()
    .toLowerCase();

  // agar user ne word nahi likha
  if (target === "") return;

  const now = Date.now();
  if (now - lastTime < 800) return;

  if (spokenText === target) {
    count++;
    counterDisplay.textContent = count;
    lastTime = now;
  }
};
          
            
            recognition.onerror = function(event) {
                console.error("Speech recognition error", event.error);
                statusText.innerHTML = `<span class="status-idle">Error: ${event.error}. Try again.</span>`;
                stopListening();
            };
            
            recognition.onend = function() {
                if (isListening) {
                    // If it ended but we're still supposed to be listening, restart
                    recognition.start();
                } else {
                    statusText.innerHTML = '<span class="status-idle">Voice recognition stopped</span>';
                    counterDisplay.classList.remove('active');
                }
            };
        }
        
        // Start voice recognition
        function startListening() {
            if (!recognition) {
                initSpeechRecognition();
            }
            
            try {
                recognition.start();
            } catch (error) {
                console.error("Error starting recognition:", error);
                statusText.innerHTML = '<span class="status-idle">Error starting voice recognition. Try again.</span>';
            }
        }
        
        // Stop voice recognition
        function stopListening() {
            isListening = false;
            if (recognition) {
                recognition.stop();
            }
            startBtn.disabled = false;
            stopBtn.disabled = true;
            counterDisplay.classList.remove('active');
        }
        
        // Reset counter
        function resetCounter() {
            count = 0;
            counterDisplay.textContent = count;
            statusText.innerHTML = 'Click "Start" to begin voice counting';
            stopListening();
        }
        
        // Button event listeners
        startBtn.addEventListener('click', startListening);
        stopBtn.addEventListener('click', stopListening);
        restartBtn.addEventListener('click', resetCounter);
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initSpeechRecognition();
            
            // Add some visual effects to buttons
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(button => {
                button.addEventListener('mousedown', function() {
                    this.style.transform = 'translateY(0)';
                });
                
                button.addEventListener('mouseup', function() {
                    this.style.transform = 'translateY(-5px)';
                });
            });
        });
        
        // Add keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            // Space to start/stop
            if (event.code === 'Space') {
                event.preventDefault();
                if (isListening) {
                    stopListening();
                } else {
                    startListening();
                }
            }
            
            // 'R' to reset
            if (event.code === 'KeyR' && !event.ctrlKey) {
                event.preventDefault();
                resetCounter();
            }
        });
    </script>
</body>
</html>
